#include<stdio.h>
#include<stdlib.h>
#define MAX 10
int stack[MAX], top1=-1, top2=MAX;
void push_stack1(int value){
    if(top1 == top2-1)
    printf("\nStack1 overflow. cannot push datain stack.\n");
    else{
        stack[++top1] = value;
        printf("\nPushed %d into the stack1\n",value);
    }
}
void push_stack2(int value){
    if(top1 == top2-1)
    printf("\nStack2 overflow. cannot push datain stack.\n");
    else{
        stack[--top2] = value;
        printf("\nPushed %d into the stack2\n",value);
    }
}
int pop_stack1(){
    if(top1 == -1){
        printf("\n stack underflow.cannot pop from empty stack\n");
        return -1;
    }
    else{
       int val = stack[top1];
       top1--;
       return val;
    }
}
int pop_stack2(){
    if(top2 == MAX){
        printf("\n stack underflow.cannot pop from empty stack\n");
        return -1;
    }
    else{
       int val = stack[top2];
       top2++;
       return val;
    }
}
int peek_stack1(){
    if(top1 == -1){
        printf("\n stack underflow.cannot peek from empty stack\n");
        return -1;
    }
    else{
        int val = stack[top1];
       return val;
    }
}
int peek_stack2(){
    if(top2 == MAX){
        printf("\n stack underflow.cannot peek from empty stack\n");
        return -1;
    }
    else{
        int val = stack[top2];
       return val;
    }
}
void display_stack1(){
      if(top1== -1)
          printf("\nStack1 is empty\n");
        else{
            printf("stack1 elements are :\n");
            for(int i=top1; i>=0;i--){
                printf("\t%d\n",stack[i]);
            }
        }
}
void display_stack2(){
    if(top2== MAX)
          printf("\nStack12is empty\n");
        else{
            printf("stack2 elements are :\n");
            for(int i=top2; i<MAX;i++){
                printf("\t%d\n",stack[i]);
            }
        }

}
int main(){
    int choice,num,val,res;
    while(1){
        printf("1. Push\n");
        printf("2. Pop\n");
        printf("3. Peek\n");
        printf("4. Display stack 1\n");
        printf("5.Display stack 2\n");
        printf("6. Exit\n");
        printf("Enter choice: ");
        scanf("%d",&choice);        
        switch(choice){
            case 1:
                printf("enter stack number(1-2): ");
                scanf("%d",&num);
                printf("enter value: ");
                scanf("%d",&val);
                if(num == 1){
                  push_stack1(val);
                }
                else if(num==2){
                  push_stack2(val);
                }
                else 
                printf("\nINVALID STACK NUMBER!!!!!\n");
                break;
            case 2:
                printf("enter stack number(1-2): ");
                scanf("%d",&num);
                if(num == 1){
                   res=pop_stack1();
                   if(res!=-1)
                       printf("\n%d pop from stack1\n",res);
                   }
                   else if(num==2){
                       res=pop_stack2();
                       if(res!=-1)
                       printf("\n%d pop from stack2\n",res);
                   }
                   else
                      printf("\n invalid choice");
                break;
            case 3:
                 printf("enter stack number(1-2): ");
                scanf("%d",&num);
                if(num == 1){
                   res=peek_stack1();
                   if(res!=-1)
                       printf("\n%d peek from stack1\n",res);
                   }
                   else if(num==2){
                       res=peek_stack2();
                       if(res!=-1)
                       printf("\n%d peek from stack2\n",res);
                   }
                   else
                      printf("\n invalid choice");
                break;
            case 4:
               display_stack1();
                break;
            case 5:
                display_stack2();
                break;
            case 6:
            exit(0);
                break;
            default:
            printf("\nInvalid Choice!!!!");
        }
        printf("\n");
    }
    return 0;
}
